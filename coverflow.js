window.onload=function(){var e="";-1!=navigator.userAgent.indexOf("Firefox")?e="-moz-":(-1!=navigator.userAgent.indexOf("Chrome")||-1!=navigator.userAgent.indexOf("Safari"))&&(e="-webkit-");for(var t=function(e,t,s,l){t=Math.max(Math.min(t,90),-90),l-=5,e.style["-webkit-perspective"]=e.style.perspective=e.style["-moz-perspective"]=s+"px",e.style["-webkit-transform"]=e.style.transform="rotateY("+t+"deg) translateZ("+l+"px)"},s=function(e,s,l,i,n,a,o,r){for(var d=.5*(o-e)-s*(n+1)-.5*e,y=0;y<=n;++y)i[y].style.left=l+y*s+s+"px",i[y].style.marginLeft=d+"px",i[y].style["-webkit-filter"]="brightness(0.65)",i[y].style.zIndex=y+1,t(i[y],a?0:10*(n-y)+45,300,a?10*-(n-y):30*-(n-y)-20);if(i[n].style["-webkit-filter"]="none",i[n].style.marginLeft=d+.5*e+"px",i[n].style.zIndex=i.length,r.style.visibility="hidden",i[n].dataset.info){r.style.visibility="visible";var p=i[n].dataset.info;r.innerHTML=p,r.style.left=l+n*s+s+10+"px",r.style.marginLeft=d+.5*e+"px"}for(t(i[n],0,0,5),y=n+1;y<i.length;++y)i[y].style.left=l+y*s+s+"px",i[y].style.marginLeft=d+e+"px",i[y].style["-webkit-filter"]="brightness(0.7)",i[y].style.zIndex=i.length-y,t(i[y],a?0:10*(n-y)-45,300,a?10*(n-y):30*(n-y)-20)},l=function(l){for(var i,n=parseInt(l.dataset.size)||64,a=parseInt(l.dataset.spacing)||10,o="true"==l.dataset.shadow||!1,r=!("false"==l.dataset.imgshadow),d=l.dataset.bgcolor||"transparent",y="true"==l.dataset.flat||!1,p=l.dataset.width,f=l.dataset.index,h=0,g=[],x=0;x<l.childNodes.length;++x)l.childNodes[x].tagName&&g.push(l.childNodes[x]);for(x=0;x<g.length;++x)g[x].style.position="absolute",g[x].style.width=n+"px",g[x].style.height="auto",g[x].style.bottom="60px",!o&&r&&(g[x].style.boxShadow="0 10px 30px rgba(0, 0, 0, 0.3)"),g[x].style.transition=e+"transform .4s ease, margin-left .4s ease, -webkit-filter .4s ease",h=Math.max(h,g[x].getBoundingClientRect().height);l.style.overflowX="scroll",l.style.backgroundColor=d;var c=document.createElement("SPAN");if(o||(c.className="coverflow-title-box",c.style.position="absolute",c.style.width=n-20+"px",c.style.height="20px",c.style.lineHeight="20px",c.style.fontSize="14px",c.style.padding="0 3px",c.style.color="#222",c.style.background="#ddd",c.style.borderRadius="10px",c.style.fontWeight="normal",c.style.fontFamily="'Helvetica Neue', Helvetica, Arial, sans-serif",c.style.bottom="28px",c.style.textAlign="center",c.style.display="block",l.appendChild(c)),t(l,0,600,0),(i=document.createElement("DIV")).style.width=(p?2*p:2*(n+(g.length+1)*a))+"px",i.style.height="1px",l.appendChild(i),l.style.width=p?p+"px":(p||n+(g.length+1)*a)+"px",o)for(l.style.height=2*h+80+"px",l.style["-webkit-perspective-origin"]=l.style["perspective-origin"]=l.style["-moz-perspective-origin"]="50% 25%",x=0;x<g.length;++x)g[x].style.bottom=20+h+"px",g[x].style["-webkit-box-reflect"]="below 0 -webkit-gradient(linear, 30% 20%, 30% 100%, from(transparent), color-stop(0.3, transparent), to(rgba(0, 0, 0, 0.8)))";else l.style.height=h+80+"px";for(l.style.position="relative",l.dataset.index=f?parseInt(f):0,l.onscroll=function(){!function(e,t,l,i,n,a){var o=parseInt(l.style.width),r=1*l.scrollLeft/o,d=Math.min(Math.floor(r*i.length),i.length-1),y=l.scrollLeft;l.dataset.index=d,s(e,t,y,i,d,n,o,a)}(n,a,l,g,y,c)},x=0;x<g.length;++x)g[x].onclick=function(){s(n,a,l.scrollLeft,g,g.indexOf(this),y,parseInt(l.style.width),c)};s(n,a,l.scrollLeft,g,+l.dataset.index,y,parseInt(l.style.width),c)},i=document.getElementsByClassName("coverflow"),n=0;n<i.length;++n)l(i[n])};